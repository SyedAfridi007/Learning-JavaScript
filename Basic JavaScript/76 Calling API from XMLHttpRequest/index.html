<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
        //event - onload(), onerror()
        //property - response, responseText, responseType, responseURL, status, statusText
        //function- open(), send(), setRequestHeader()

        //console.log(window);

        //get Request
        /*
        const makRequest =  (method, url) =>{

            const xhr = new XMLHttpRequest();
            //console.log(xhr);
            
            xhr.open(method, url);
            
            
            xhr.onload = () =>{
                let data = xhr.response;
                //console.log(data);
                console.log(JSON.parse(data));
            }
            
            xhr.onerror = () =>{
                console.log('error is here');
            }
            xhr.send();
            
        }
            
            
        const getData = () =>{
            makRequest('GET', 'https://jsonplaceholder.typicode.com/posts');
        }
        getData();

        */



        /*

        //post Request
        const makRequest =  (method, url, data) =>{

            const xhr = new XMLHttpRequest();
            //console.log(xhr);

            xhr.open(method, url);

            xhr.setRequestHeader('Content-type', 'application/json')

            xhr.onload = () =>{
                let data = xhr.response;
                //console.log(data);
                console.log(JSON.parse(data));
            }

            xhr.onerror = () =>{
                console.log('error is here');
            }
            xhr.send(JSON.stringify(data));

        }


        const getData = () =>{
            makRequest('GET', 'https://jsonplaceholder.typicode.com/posts')
        }
        //getData();


        const sendData = () =>{
            makRequest('POST', 'https://jsonplaceholder.typicode.com/posts',{
                title: 'Boom',
                body:'bar',
                userId: 1,
            })
        }
        sendData();

        */




        //Update Request
        
        //post Request
        /*
        const makRequest =  (method, url, data) =>{

           const xhr = new XMLHttpRequest();
           //console.log(xhr);
           
           xhr.open(method, url);
           
           xhr.setRequestHeader('Content-type', 'application/json')
           
           xhr.onload = () =>{
               let data = xhr.response;
               console.log(xhr.status);
               //console.log(data);
               console.log(JSON.parse(data));
           }
           
           xhr.onerror = () =>{
               console.log('error is here');
           }
           xhr.send(JSON.stringify(data));
           
        }
        */

        /*
        const updateData = () => {
            makRequest('PUT', 'https://jsonplaceholder.typicode.com/posts/1',{
                id: 1,
                title: 'Boom Boom',
                body:'bar',
                userId: 1,
            });
        }

        updateData();

        */

        /*
        const updateSingleData = () => {
            makRequest('PATCH', 'https://jsonplaceholder.typicode.com/posts/1',{
                title: 'Boom Boom Afridi',
            });
        }
        updateSingleData();

        */

        /*
        const deleteData = () => {
            makRequest('DELETE', 'https://jsonplaceholder.typicode.com/posts/1',{
            });
        }
        deleteData();
        */


        
        //post Request Promise
        
        const makRequest =  (method, url, data) =>{

            return new Promise((resolve, reject) => {
                const xhr = new XMLHttpRequest();
                //console.log(xhr);
                
                xhr.open(method, url);
                
                xhr.setRequestHeader('Content-type', 'application/json')
                
                xhr.onload = () =>{
                    let data = xhr.response;
                    //console.log(xhr.status);
                    //console.log(data);
                    console.log(JSON.parse(data));
                }
                
                xhr.onerror = () =>{
                    console.log('error is here');
                }
                xhr.send(JSON.stringify(data));
            })
        }

        const getData = () =>{
            makRequest('GET', 'https://jsonplaceholder.typicode.com/posts')
            .then((res) => console.log(res))
        }
        getData();
           




    </script>
</body>
</html>